<!DOCTYPE html>
    <html>
     <head>
        <title>Javascript Events</title>
    </head>
    <body>
        
        <table id="container">
            <tbody />
            <tfoot>
                <tr>
                    <td />
                    <td><input type="text" id="firstName" /></td>
                    <td><input type="text" id="lastName" /></td>
                    <td><input type="text" id="age" /></td>
                    <td><input type="button" id="doAdd" value="+" /></td>
            </tfoot>
        </table>
        
        
         
        
        <script src="/common/js/jquery/jquery.js"></script>
        <script src="/common/data/people.js"></script>
        <script language="javascript" type="text/javascript">
        
            /*
            Working with our array of people again we want to be able to do the following
                - Bind the array to the table above
                - Add a button to each row so that we can remove data from the array
                - Get the values from the form to populate a new person into the array
                - Bind a click event to the doAdd button  
            */
        
            function bind(data) {
                $("#container tbody").empty();
                $(data).each(function(i, one) { 
                    if (!$.isEmptyObject(one)) {
                        var row = $("<tr />");
                        row.append($("<td />").text(i).addClass("indexEl"));
                        row.append($("<td />").text(one.firstName));
                        row.append($("<td />").text(one.lastName));
                        row.append($("<td />").text(one.age));
                        row.append($("<input />")
                                        .attr("type", "button")
                                        .addClass("removeButton")
                                        .val("X")
                                        .bind("click", function (evt) {
                                            removeRow(i);
                                        })
                                   );                        
                        $("#container tbody").append(row);
                    }
                });
                
                $("#container tbody tr:odd").find("td").css("background", "grey");
                $("#container").attr("cellspacing", 0);
                $("#container").attr("cellpadding", 5);
            }
            
            function removeRow(index) {
                people.splice(index, 1);
                bind(people);
            }
            
            function addPerson() {
                var person = new Person($("#firstName").val(), $("#lastName").val(), $("#age").val());
                people.push(person);
                
                $("#firstName").val("");
                $("#lastName").val("");
                $("#age").val("");
                bind(people);
            }
            
            $(document).ready(function() {
                if ($.isArray(people)) {
                    bind(people);
                    
                    $("#doAdd").bind("click", function(evt) {
                       addPerson(); 
                    });
                }
            });
            
        
        </script>
    </body>
</html>